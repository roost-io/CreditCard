# ********RoostGPT********

# Test generated by RoostGPT for test karate-test-plan using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /user/createWithList_post for http method type POST 
# RoostTestHash=41ad79e90d
# 
# 

# ********RoostGPT********
Feature: Test API - Create List of Users with Input Array

  Background:
    * def urlBase = karate.properties['URL_BASE']
    * url urlBase

  Scenario Outline: Create users with valid input list
    Given path 'v2/user/createWithList'
    And request """<requestBody>"""
    When method POST
    Then status 200
    And match response == '#? _ == null || typeof _ == "object" || typeof _ == "array"'
    And match responseHeaders['Content-Type'] CONTAINS 'application/json'

    Examples:
      | requestBody                                                                                              |
      | """[                                                               
           {
             id: 1,
             username: 'user1',
             firstName: 'John',
             lastName: 'Doe',
             email: 'john.doe@example.com',
             password: 'password1',
             phone: '1234567890',
             userStatus: 1
           },
           {
             id: 2,
             username: 'user2',
             firstName: 'Jane',
             lastName: 'Smith',
             email: 'jane.smith@example.com',
             password: 'password2',
             phone: '9876543210',
             userStatus: 2
           }
         ]""" |

  Scenario Outline: Create users with invalid input list
    Given path 'v2/user/createWithList'
    And request """<requestBody>"""
    When method POST
    Then status 200
    And match response == '#? _ == null || typeof _ == "object" || typeof _ == "array"'
    And match responseHeaders['Content-Type'] CONTAINS 'application/json'

    Examples:
      | requestBody                                         |
      | """[                                                                            
           {
             id: null,
             username: null,
             firstName: null,
             lastName: null,
             email: null,
             password: null,
             phone: null,
             userStatus: null
           }
         ]""" |
      | """[
           {
             id: 1,
             username: '',
             firstName: '',
             lastName: '',
             email: '',
             password: '',
             phone: '',
             userStatus: 1
           }
         ]""" |

  Scenario: Create users with empty input array
    Given path 'v2/user/createWithList'
    And request """[]"""
    When method POST
    Then status 200
    And match response == '#? _ == null || typeof _ == "object" || typeof _ == "array"'
    And match responseHeaders['Content-Type'] CONTAINS 'application/json'

  Scenario Outline: Validate response body with nested assertions
    Given path 'v2/user/createWithList'
    And request """<requestBody>"""
    When method POST
    Then status 200
    And match response == '#? _ == null || typeof _ == "object" || typeof _ == "array"'
    And match responseHeaders['Content-Type'] CONTAINS 'application/json'
    And match each response[*].id == '#number'
    And match each response[*].username == '#string'
    And match each response[*].firstName == '#string'
    And match each response[*].lastName == '#string'
    And match each response[*].email == '#string'
    And match each response[*].password == '#string'
    And match each response[*].phone == '#string'
    And match each response[*].userStatus == '#number'

    Examples:
      | requestBody                                        |
      | """[
           {
             id: 3,
             username: 'user3',
             firstName: 'Alice',
             lastName: 'Brown',
             email: 'alice.brown@example.com',
             password: 'password3',
             phone: '2233445566',
             userStatus: 3
           }
         ]""" |
