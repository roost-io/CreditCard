# ********RoostGPT********

# Test generated by RoostGPT for test karate-test-plan using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /user_post for http method type POST 
# RoostTestHash=d815599fc6
# 
# 

# ********RoostGPT********
Feature: User Management API - Create User Endpoint Testing

  Background:
    * def urlBase = karate.properties['URL_BASE']
    * url urlBase
    
  Scenario Outline: Valid input payload for creating a user
    Given path 'v2/user'
    And request """ 
      {
        id: <id>,
        username: "<username>",
        firstName: "<firstName>",
        lastName: "<lastName>",
        email: "<email>",
        password: "<password>",
        phone: "<phone>",
        userStatus: <userStatus>
      }
    """
    When method POST
    Then status 200
    And match response == '#object'
    And match response.id == '#number'
    And match response.username == '#string'
    And match response.firstName == '#string'
    And match response.lastName == '#string'
    And match response.email == '#string'
    And match response.password == '#string'
    And match response.phone == '#string'
    And match response.userStatus == '#number'
    And match response == '#? response.id >= 0'

    Examples:
      | id   | username    | firstName  | lastName | email               | password  | phone         | userStatus |
      | 1    | johnDoe123  | John       | Doe      | john.doe@gmail.com  | pass123   | 1234567890    | 1          |
      | 102  | jane_smith  | Jane       | Smith    | jane.smith@yahoo.com| jane123   | 9876543210    | 2          |

  Scenario: Invalid input payload for creating a user
    Given path 'v2/user'
    And request """ 
      {
        id: null,
        username: null,
        firstName: null,
        lastName: null,
        email: null,
        password: null,
        phone: null,
        userStatus: null
      }
    """
    When method POST
    Then status 500
    And match response == '#object'
    And match response.error == '#string'

  Scenario: Response headers validation
    Given path 'v2/user'
    And request """
      {
        id: 1,
        username: "testuser",
        firstName: "Test",
        lastName: "User",
        email: "test.user@example.com",
        password: "password123",
        phone: "1234567890",
        userStatus: 0
      }
    """
    When method POST
    Then status 200
    And match response == '#object'
    And match responseHeaders['Content-Type'] == '#string'

  Scenario: Validate default response for successful operation
    Given path 'v2/user'
    And request """
      {
        id: 9999,
        username: "newuser",
        firstName: "New",
        lastName: "User",
        email: "new.user@example.com",
        password: "newpassword",
        phone: "5555555555",
        userStatus: 100
      }
    """
    When method POST
    Then status 200
    And match response == '#object'
