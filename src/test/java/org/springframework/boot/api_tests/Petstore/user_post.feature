# ********RoostGPT********

# Test generated by RoostGPT for test karate-test-plan using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /user_post for http method type POST 
# RoostTestHash=d815599fc6
# 
# 

# ********RoostGPT********
Feature: Test API for /v2/user Endpoint

  Background:
    * def urlBase = karate.properties['URL_BASE']
    * url urlBase

  Scenario Outline: Create User with valid input payload
    Given path 'v2/user'
    And request """
      { 
        "id": <id>, 
        "username": "<username>", 
        "firstName": "<firstName>", 
        "lastName": "<lastName>", 
        "email": "<email>", 
        "password": "<password>", 
        "phone": "<phone>", 
        "userStatus": <userStatus> 
      }
    """
    When method POST
    Then status 200
    And match response == '#null'

    Examples:
      | id   | username      | firstName | lastName  | email               | password | phone       | userStatus |
      | 1    | john_doe      | John      | Doe       | john.doe@email.com  | 1234pass | 1234567890  | 0          |
      | 123  | jane_smith    | Jane      | Smith     | jane.smith@email.com| pass1234 | 9876543210  | 1          |

  Scenario Outline: Verify response with invalid payload
    Given path 'v2/user'
    And request """
      { 
        "id": <id>, 
        "username": "<username>", 
        "firstName": null, 
        "lastName": "<lastName>", 
        "email": "<email>", 
        "password": "<password>", 
        "phone": "<phone>", 
        "userStatus": <userStatus> 
      }
    """
    When method POST
    Then status 400
    And match response == '#object'

    Examples:
      | id   | username      | lastName | email               | password | phone       | userStatus |
      | 1    | invalid_name  | Doe      | invalid.email       |          | 1234567890  | 999        |
      | 123  | empty_string  | Smith    | jane.smith@email.com|          | empty_phone | null       |

  Scenario: Test request with missing required fields
    Given path 'v2/user'
    And request """
      {}
    """
    When method POST
    Then status 400
    And match response == '#object'

  Scenario Outline: Validate Response Headers
    Given path 'v2/user'
    And request """
      { 
        "id": <id>, 
        "username": "<username>", 
        "firstName": "<firstName>", 
        "lastName": "<lastName>", 
        "email": "<email>", 
        "password": "<password>", 
        "phone": "<phone>", 
        "userStatus": <userStatus> 
      }
    """
    When method POST
    Then status 200
    And match responseHeaders['Content-Type'] == '#string'
    And match responseHeaders['X-Powered-By'] contains 'Swagger'

    Examples:
      | id   | username   | firstName | lastName  | email       | password | phone | userStatus |
      | 111  | janedoe    | Jane      | Doe       | email@exmpl| pass!123 | 123456| 1          |
