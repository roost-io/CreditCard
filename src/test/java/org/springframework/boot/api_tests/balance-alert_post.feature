# ********RoostGPT********

# Test generated by RoostGPT for test CrediCard-Karate using AI Type Claude AI and AI Model claude-3-opus-20240229
# 
# Feature file generated for /balance-alert_post for http method type POST 
# RoostTestHash=a82c31e55f
# 
# 

# ********RoostGPT********
Feature: Balance Alert API

  Background:
    * def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http://localhost:8080')
    * url urlBase
    * configure headers = { 'Authorization': 'Bearer ' + karate.properties['AUTH_TOKEN'] }

  Scenario Outline: Test Balance Alert API with valid request
    Given path '/balance-alert'
    And request
      """
      {
        "paymentDueDate": "<paymentDueDate>",
        "currentDate": "<currentDate>",
        "cardLast4": "<cardLast4>"
      }
      """
    When method POST
    Then status 200
    And match response == "#string"

    Examples:
      | paymentDueDate | currentDate | cardLast4 |
      | 2023-06-30     | 2023-06-15  | 1234      |
      | 2023-07-15     | 2023-07-01  | 5678      |

  Scenario: Test Balance Alert API with missing currentDate field
    Given path '/balance-alert'
    And request
      """
      {
        "paymentDueDate": "2023-06-30",
        "cardLast4": "1234"
      }
      """
    When method POST
    Then status 400
    And match response.message contains "currentDate"

  Scenario: Test Balance Alert API with invalid cardLast4 field
    Given path '/balance-alert' 
    And request
      """
      {
        "paymentDueDate": "2023-06-30",
        "currentDate": "2023-06-15",
        "cardLast4": "12345"
      }
      """
    When method POST
    Then status 400
    And match response.message contains "cardLast4"

  Scenario: Test Balance Alert API with invalid paymentDueDate format
    Given path '/balance-alert'
    And request 
      """
      {
        "paymentDueDate": "2023/06/30",
        "currentDate": "2023-06-15",
        "cardLast4": "1234"  
      }
      """
    When method POST
    Then status 400
    And match response.message contains "paymentDueDate"
