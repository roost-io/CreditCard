# ********RoostGPT********

# Test generated by RoostGPT for test CrediCard-Karate using AI Type Claude AI and AI Model claude-3-opus-20240229
# 
# Feature file generated for /payment-reminder_post for http method type POST 
# RoostTestHash=821572435a
# 
# 

# ********RoostGPT********
Feature: Payment Reminder API

  Background:
    * def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http://localhost:8080')
    * url urlBase
    * def authToken = karate.properties['AUTH_TOKEN']
    * configure headers = { 'Authorization': '#(authToken)' }

  Scenario Outline: Payment Reminder - <scenario>
    Given path '/payment-reminder'
    And request
      """
      {
        "currentDate": "<currentDate>",
        "paymentDueDate": "<paymentDueDate>",
        "cardLast4": "<cardLast4>"
      }
      """
    When method POST
    Then status 200
    And match response == "<expectedResponse>"

    Examples:
      | scenario        | currentDate | paymentDueDate | cardLast4 | expectedResponse                                               |
      | Valid Request   | 2023-06-01  | 2023-06-15     | 1234      | Payment reminder for card ending in 1234. Due date: 2023-06-15 |
      | Missing Fields  | 2023-06-01  |                | 1234      | currentDate, paymentDueDate, and cardLast4 are required        |
      | Invalid Dates   | 2023-13-01  | 2023-06-15     | 1234      | currentDate must be a valid date                               |
      | Invalid Card    | 2023-06-01  | 2023-06-15     | 123       | cardLast4 must be 4 characters long                            |

  Scenario: Payment Reminder - Missing Authorization
    Given path '/payment-reminder'
    And request
      """
      {
        "currentDate": "2023-06-01",
        "paymentDueDate": "2023-06-15",
        "cardLast4": "1234"
      }
      """
    When method POST
    Then status 401
    And match response contains "Unauthorized"
