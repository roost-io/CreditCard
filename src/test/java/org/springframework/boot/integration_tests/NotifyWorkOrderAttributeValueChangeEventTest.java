// ********RoostGPT********
/*
Test generated by RoostGPT for test dm-bugbounty-functional-openai_clone using AI Type Open AI and AI Model gpt-4o

ROOST_METHOD_HASH=87358d71d9
ROOST_METHOD_SIG_HASH=bac3f3d3bd

 ########## Scenario ########## 

{
  feature: 'Feature: Work Order Attribute Value Change Event\n' +
    '  The endpoint allows clients to send notifications about changes in work order attributes.',
  background: 'Background:\n' +
    '    Given the API endpoint "/listener/workOrderAttributeValueChangeEvent"\n' +
    '    And the request content type is "application/json"',
  rule: null,
  scenario: {
    title: 'Scenario Outline: Notify work order attribute value change event',
    steps: 'Given the request payload for event "<eventName>"\n' +
      'When a POST request is sent to the endpoint\n' +
      'Then the response status code should be <statusCode>\n' +
      'And the response message should be "<responseMessage>"',
    examples: 'Examples:\n' +
      '      | eventName           | statusCode | responseMessage |\n' +
      '      | BOOKING_CANCELED    | 200        | Ok              |\n' +
      '      | BOOKING_COMPLETED   | 200        | Ok              |\n' +
      '      | BOOKING_RESCHEDULE  | 200        | Ok              |\n' +
      '      | INVALID_PAYLOAD     | 400        | Bad Request     |\n' +
      '      | UNAUTHORIZED_ACCESS | 401        | Unauthorized    |\n' +
      '      | FORBIDDEN_ACTION    | 403        | Forbidden       |\n' +
      '      | RESOURCE_NOT_FOUND  | 404        | Not Found       |\n' +
      '      | TOO_MANY_REQUESTS   | 429        | Too Many Requests |\n' +
      '      | SERVER_ERROR        | 500        | Internal Server Error |\n' +
      '      | SERVICE_UNAVAILABLE | 503        | Service Unavailable |\n' +
      '      | GATEWAY_TIMEOUT     | 504        | Gateway Timeout |'
  }
}

*/

// ********RoostGPT********
package org.springframework.boot.integration_tests;

import io.restassured.RestAssured;
import io.restassured.http.ContentType;
import io.restassured.response.Response;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.equalTo;

public class NotifyWorkOrderAttributeValueChangeEventTest {

    @BeforeEach
    public void setup() throws IOException {
        RestAssured.baseURI = "http://localhost:8080";
    }

    @Test
    public void testNotifyWorkOrderAttributeValueChangeEvent() throws IOException {
        String filePath = "src" + java.io.File.separator + "test" + java.io.File.separator + "java" + java.io.File.separator + "org" + java.io.File.separator + "springframework" + java.io.File.separator + "boot" + java.io.File.separator + "integration_tests" + java.io.File.separator + "NotifyWorkOrderAttributeValueChangeEventTest.csv";

        try (BufferedReader br = new BufferedReader(new FileReader(filePath))) {
            String line;
            boolean firstLine = true;
            while ((line = br.readLine()) != null) {
                if (firstLine) {
                    firstLine = false;
                    continue;
                }
                if (line.trim().isEmpty()) {
                    continue;
                }

                String[] data = line.split("\\^\\|\\^");
                String method = data[0];
                String url = data[1];
                String reqHeaders = data[2];
                String reqBody = data[3];
                int responseCode = Integer.parseInt(data[4]);
                String responseBody = data[5];

                String[] headerParts = reqHeaders.split(": ");
                String headerName = headerParts[0];
                String headerValue = headerParts[1];

                // Sending the request and validating the response
                Response response = given()
                        .contentType(ContentType.JSON)
                        .header(headerName, headerValue)
                        .body(reqBody)
                        .when()
                        .post(url);

                // Validate response status code
                response.then().statusCode(responseCode);

                // Validate response body
                response.then().body("message", equalTo(responseBody.replace("{\n  \"message\": \"", "").replace("\"\n}", "")));
            }
        }
    }
}
