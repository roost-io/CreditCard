# Comprehensive Test Scenarios for Credit Card Due Collection Lifecycle (ZBIO-5213)

## Functional Tests

### 1. Credit Card Due Reminder Tests
- **Test Case 1.1: Successful Due Reminder Notification**
  * Input: Customer with upcoming payment due in 5 days
  * Expected Output: Notification sent with correct due date, amount due, and last 4 digits of card
  * Verification: Notification log shows successful delivery

- **Test Case 1.2: Multiple Card Reminder Handling**
  * Input: Customer with multiple credit cards having due dates within the same week
  * Expected Output: Separate notifications for each card with correct last 4 digits
  * Verification: All notifications contain unique card identifiers

- **Test Case 1.3: Zero Balance Due Handling**
  * Input: Customer with $0 balance due
  * Expected Output: No reminder notification sent
  * Verification: No notification log entry for this customer

- **Test Case 1.4: Minimum Payment Due Reminder**
  * Input: Customer with option to pay minimum amount
  * Expected Output: Notification includes both full amount and minimum payment amount
  * Verification: Both payment options clearly displayed in notification

### 2. Overdue Balance Alert Tests
- **Test Case 2.1: First Overdue Alert**
  * Input: Customer 1 day past due date
  * Expected Output: Overdue alert sent with correct amount, last 4 digits, and late fee information
  * Verification: Alert content matches expected template

- **Test Case 2.2: Escalating Overdue Alerts**
  * Input: Customer 15 days past due date
  * Expected Output: More urgent alert with increased severity language
  * Verification: Alert content reflects escalated urgency

- **Test Case 2.3: Partial Payment Handling**
  * Input: Customer made partial payment but still has overdue balance
  * Expected Output: Alert acknowledges partial payment but reminds of remaining balance
  * Verification: Alert shows correct remaining balance

### 3. Collection Notification Tests
- **Test Case 3.1: Initial Collection Notice**
  * Input: Account 30 days delinquent
  * Expected Output: Formal collection notification with detailed breakdown of amount owed
  * Verification: Notification includes correct last 4 digits and all applicable fees

- **Test Case 3.2: Repeated Collection Notices**
  * Input: Account 45 days delinquent with no response to initial notice
  * Expected Output: Follow-up collection notice with escalated language
  * Verification: System records multiple attempts at collection

- **Test Case 3.3: Collection Notice After Partial Payment**
  * Input: Customer made partial payment after receiving collection notice
  * Expected Output: Updated collection notice reflecting partial payment
  * Verification: Notice shows accurate remaining balance

### 4. Payment Plan Proposal Tests
- **Test Case 4.1: Standard Payment Plan Generation**
  * Input: Customer with $2000 overdue balance, 60 days delinquent
  * Expected Output: Payment plan proposal with reduced interest rate and 6-month schedule
  * Verification: Proposal includes last 4 digits and clear payment schedule

- **Test Case 4.2: Custom Payment Plan Request**
  * Input: Customer requests specific payment terms
  * Expected Output: Customized payment plan based on customer's financial situation
  * Verification: Plan terms match customer's request and bank's approval

- **Test Case 4.3: Payment Plan Acceptance**
  * Input: Customer accepts payment plan
  * Expected Output: Confirmation of acceptance and first payment details
  * Verification: Account status updated to "Payment Plan Active"

### 5. Collection Agency Involvement Tests
- **Test Case 5.1: Account Transfer to Collection Agency**
  * Input: Account 90 days delinquent with no response
  * Expected Output: Account details including last 4 digits transferred to collection agency
  * Verification: Transfer log shows only necessary information shared

- **Test Case 5.2: Collection Agency Communication**
  * Input: Collection agency initiates contact with customer
  * Expected Output: Agency uses only last 4 digits in all communications
  * Verification: Communication templates comply with security requirements

- **Test Case 5.3: Payment to Collection Agency**
  * Input: Customer makes payment to collection agency
  * Expected Output: Payment properly credited to account
  * Verification: Account balance updated correctly

### 6. Legal Action Initiation Tests
- **Test Case 6.1: Legal Notice Generation**
  * Input: Account 120+ days delinquent, meets criteria for legal action
  * Expected Output: Legal notice generated with appropriate language and last 4 digits
  * Verification: Notice complies with all legal requirements

- **Test Case 6.2: Legal Documentation**
  * Input: Case proceeds to legal filing
  * Expected Output: All documentation contains only last 4 digits of card
  * Verification: No full card numbers in any legal documents

- **Test Case 6.3: Legal Action Cancellation**
  * Input: Customer makes full payment before court date
  * Expected Output: Legal proceedings halted, confirmation sent to customer
  * Verification: Legal status updated in system

## Non-Functional Tests

### 1. Performance Tests
- **Test Case NF1.1: Batch Notification Processing**
  * Input: 10,000 due reminders to be sent in one batch
  * Expected Output: All notifications processed within 30 minutes
  * Verification: System performance metrics show acceptable processing time

- **Test Case NF1.2: System Load During Peak Hours**
  * Input: Simulate peak notification sending during high-traffic hours
  * Expected Output: No degradation in system performance
  * Verification: Response times remain within acceptable thresholds

### 2. Security Tests
- **Test Case NF2.1: Credit Card Number Masking (CWE-312: Cleartext Storage of Sensitive Information)**
  * Input: Attempt to retrieve full credit card number from notification system
  * Expected Output: Only last 4 digits accessible, rest masked
  * Verification: No full credit card numbers stored or transmitted in plain text

- **Test Case NF2.2: Authentication for Collection System Access (CWE-306: Missing Authentication)**
  * Input: Attempt to access collection system without proper credentials
  * Expected Output: Access denied, security alert generated
  * Verification: All access attempts logged with user information

- **Test Case NF2.3: Notification Encryption (CWE-319: Cleartext Transmission of Sensitive Information)**
  * Input: Intercept notification during transmission
  * Expected Output: Content is encrypted and cannot be read
  * Verification: All communications use secure protocols (TLS/SSL)

- **Test Case NF2.4: SQL Injection Prevention (CWE-89: SQL Injection)**
  * Input: Enter SQL injection attempts in customer search fields
  * Expected Output: System rejects malicious input, logs attempt
  * Verification: No database access possible through injection

- **Test Case NF2.5: Cross-Site Scripting Prevention (CWE-79: XSS)**
  * Input: Enter script tags in payment note fields
  * Expected Output: Scripts sanitized, not executed
  * Verification: Input validation prevents script execution

- **Test Case NF2.6: Access Control Testing (CWE-284: Improper Access Control)**
  * Input: Collection agent attempts to access records outside their jurisdiction
  * Expected Output: Access denied, action logged
  * Verification: Role-based access controls functioning correctly

### 3. Compliance Tests
- **Test Case NF3.1: Regulatory Compliance**
  * Input: Review all notification templates
  * Expected Output: All templates comply with relevant financial regulations
  * Verification: Legal team approval of all templates

- **Test Case NF3.2: Data Retention Policy**
  * Input: Check collection records after retention period
  * Expected Output: Records properly archived or deleted per policy
  * Verification: No accessible records beyond retention period

### 4. Usability Tests
- **Test Case NF4.1: Notification Clarity**
  * Input: Sample group reviews notification content
  * Expected Output: 90%+ comprehension of required actions
  * Verification: User feedback confirms clarity of instructions

- **Test Case NF4.2: Payment Interface Usability**
  * Input: Test users attempt to make payments from notifications
  * Expected Output: Users complete payment process without assistance
  * Verification: Task completion rate above 95%

### 5. Reliability Tests
- **Test Case NF5.1: System Recovery**
  * Input: Simulate system failure during notification batch
  * Expected Output: System recovers and completes interrupted batch
  * Verification: No notifications lost during recovery

- **Test Case NF5.2: Notification Delivery Confirmation**
  * Input: Send notifications through various channels
  * Expected Output: Delivery confirmation received for all channels
  * Verification: Delivery logs show successful transmission

## Suggestions and Comments

1. Consider implementing a customer feedback mechanism after each stage of the collection process to improve communication effectiveness.

2. The current user story doesn't specify the timing of reminders (how many days before due date). Recommend establishing a clear timeline for each notification type.

3. Consider adding personalized payment options based on customer history and credit score to increase payment likelihood.

4. Implement A/B testing on notification language to determine which messaging leads to higher payment rates.

5. The security requirements correctly focus on protecting credit card information, but should be expanded to include all personally identifiable information (PII) in the collection process.

6. Consider adding tests for accessibility compliance to ensure notifications are accessible to customers with disabilities.